<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expert System Decision Support</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='bootstrap-4.1.3/css/bootstrap.min.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
<div class="container mt-5">
    <h1 class="text-center mb-4">Expert System Decision Support</h1>
    <form id="inputForm" class="needs-validation" novalidate>
        <div class="mb-3">
            <label for="experience_level" class="form-label">Experience Level:</label>
            <select name="experience_level" id="experience_level" class="form-select" required>
                <option value="" disabled selected>Select your experience level</option>
                <option value="SE">Senior</option>
                <option value="EN">Entry</option>
                <option value="MI">Mid-level</option>
                <option value="EX">Executive</option>
            </select>
            <div class="invalid-feedback">
                Please select an experience level.
            </div>
        </div>

        <div class="mb-3">
            <label for="employment_type" class="form-label">Employment Type:</label>
            <select name="employment_type" id="employment_type" class="form-select" required>
                <option value="" disabled selected>Select your employment type</option>
                <option value="FT">Full-Time</option>
                <option value="PT">Part-Time</option>
                <option value="CT">Contract</option>
                <option value="FL">Freelance</option>
            </select>
            <div class="invalid-feedback">
                Please select an employment type.
            </div>
        </div>

        <div class="mb-3">
            <label for="job_title" class="form-label">Job Title:</label>
            <select name="job_title" id="job_title" class="form-select" required>
                <option value="" disabled selected>Select your job title</option>
                <option value="Data Engineer">Data Engineer</option>
                <option value="Data Scientist">Data Scientist</option>
                <option value="Data Analyst">Data Analyst</option>
                <option value="Machine Learning Engineer">Machine Learning Engineer</option>
            </select>
            <div class="invalid-feedback">
                Please select a job title.
            </div>
        </div>

        <div class="mb-3">
            <label for="remote_ratio" class="form-label">Remote Ratio:</label>
            <input type="number" id="remote_ratio" name="remote_ratio" class="form-control" min="0" max="100" required>
            <div class="invalid-feedback">
                Please enter a valid remote ratio between 0 and 100.
            </div>
        </div>

        <div class="mb-3">
            <label for="company_size" class="form-label">Company Size:</label>
            <select name="company_size" id="company_size" class="form-select" required>
                <option value="" disabled selected>Select your company size</option>
                <option value="S">Small</option>
                <option value="M">Medium</option>
                <option value="L">Large</option>
            </select>
            <div class="invalid-feedback">
                Please select a company size.
            </div>
        </div>

        <button type="submit" class="btn btn-primary">Get Prediction</button>
    </form>
    <pre id="output" class="mt-4 p-3 bg-light border"></pre>
    <pre id="output1" class="mt-4 p-3 bg-light border"></pre>

</div>

<script>
    document.getElementById('inputForm').addEventListener('submit', function (event) {
        event.preventDefault();
        const form = event.target;
        if (form.checkValidity() === false) {
            event.stopPropagation();
            form.classList.add('was-validated');
            return;
        }
        form.classList.remove('was-validated');
        const formData = new FormData(form);
        fetch('/predict', {
            method: 'POST',
            body: formData
        })
            .then(response => response.json())
            .then(data => {
                document.getElementById('output').textContent = 'Predicted Salary: $' + data.prediction.toFixed(2);
                document.getElementById('output1').textContent = 'Predicted Salary by Month: $' + (data.prediction.toFixed(2)) / 12;

            });
    });
</script>
<script src="{{ url_for('static', filename='bootstrap-4.1.3/js/bootstrap.min.js') }}"></script>
</body>
</html>
